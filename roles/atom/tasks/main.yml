- import_tasks: ../common/tasks/homebrew-cask.yml
  vars:
    packages: "{{ atom__homebrew_casks }}"

- name: Create config path
  file:
    path: "{{ atom__config_path }}"
    state: directory

- import_tasks: ../common/tasks/link-config-files.yml
  vars:
    files: "{{ atom__files }}"

- name: Install packages with apm
  command: "apm install {{ item }}"
  args:
    creates: "{{ atom__config_path }}/packages/{{ item }}"
  with_lines: cat {{ role_path }}/files/{{ atom__packages_config_path }}
